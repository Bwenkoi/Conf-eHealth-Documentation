## Visão de Contêiner

A visão de Contêiner mostra em alto nível a forma da arquitetura de software e como as responsabilidades são distribuídas por ela. Essa visão também mostra as principais opções de tecnologia e como os contêineres se comunicam entre si.

![Container View-pt-w](https://github.com/Bwenkoi/Conf-eHealth-Documentation/assets/28735848/e78ac3b4-f5e3-4406-b465-f8ab000575bd)

**Aplicação Móvel (Mobile Application) **: Esse componente representa uma aplicação mobile para visualização de dados de dispositivos. É importante que a aplicação seja disponibilizada para as plataformas Android e IOS. Esse componente é opcional para a arquitetura de referência uma vez que a apresentação de dados e painel de controle são obrigatórios na forma de aplicação web.

**Painel de Controle (Control Panel)**: Permite que, através do navegador, seja possível fazer o gerenciamento dos dispositivos presentes na aplicação e permite também a visualização de dados sobre o estado dos dispositivos.

**Aplicação Web (Web Application)**: Tem como objetivo entregar a interface gráfica (Painel de Controle) para o navegador do usuário do sistema. Através dessa aplicação é possível também fazer consultas sobre os dados de saúde do paciênte e receber alertas visuais em casos de emergência.

**Autenticador de Usuários (User Auth)**: É o componente de autenticação e autorização para usuários. É esperado que esse componente permita a realização da autenticação de usuários de varias formas e através de diferentes tecnologias diferentes, como por exemplo, autenticação de dois fatores. Uma opção open source para realizar essa tarefa é o Keycloak, mas componente pode ser desenvolvido interno ao sistema.

**Gerenciador de APIs (API-Gateway)**: É o componente responsável por distribuir as requisições entre os serviços **Data-API** e **Device-manager** conforme as suas funcionalidades. É de responsabilidade desse componente que as APIs sejam distribuidas de maneira a garantir um bom desempenho da aplicação, evitar sobrecargas e realizar o balanceamento de requisições. O Amazon API Gateway e o Kong são exemplos de ferramentas para realização desse tipo de trabalho.

**Data-API**: Responsável por consultar os dados na nuvem e disponibilizá-lo para a camada de visualização ou aplicações externas.

**Business Manager**: Responsável pelas regras de negócio individuais do paciente, por exemplo, o treshold para o disparo de notificações para cuidadores externos.

**Device Manager**: Responsável por gerenciar, configurar e atuar sobre dispositivos instalados no sistema.

**Event Streaming**: Responsável por entregar as mensagens, eventos, dados e comandos em todo o sistema via publish/subscribe.  

**Device Auth**: Parte responsável por realizar a autenticação dos dispositivos.

Dentro do diagrama, é possível notar dois micro-serviços que possuem o prefixo "iot-agent" esses serviços serão responsáveis por receber os dados e atuar sobre um dispositivo no protocolo especifico do mesmo. No caso do diagrama foi usado dois protocolos como exemplo o HTTP e o MQTT. Esses microsserviços também realizam a função de converter os dados recebidos em um formato padronizado pela aplicação e converter as atuações padronizadas do sistema no formato especifico de cada dispositivo.
